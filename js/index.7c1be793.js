(function(e){function t(t){for(var r,n,s=t[0],d=t[1],c=t[2],l=0,m=[];l<s.length;l++)n=s[l],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var d=a[s];0!==i[d]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},i={index:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/meus-remedios/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=d;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("85ec"),i=a.n(r);i.a},"1ea2":function(e,t,a){},"33cb":function(e,t,a){"use strict";var r=a("6fd0"),i=a.n(r);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e623"),a("e379"),a("5dc8"),a("37e1");var r=a("2b0e"),i=(a("4989"),a("ab8b"),a("3a60")),o=a.n(i),n=a("1dce"),s=a.n(n),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Navbar"),a("router-view")],1)},c=[],u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{attrs:{id:"header"}},[a("nav",{staticClass:"navbar navbar-expand-md bg-dark navbar-dark"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e._v("Meus remédios")]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"collapsibleNavbar"}},[a("ul",{staticClass:"navbar-nav"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/meus-remedios/cadastro"}},[e._v(" Novo remédio ")])],1)])])])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],m={data:function(){return{activeClass:"active",items:[{id:1,path:"remedios",icon:"fa fa-list",text:"Remédios"}]}},computed:{currentPage:function(){return this.$route.path}}},v=m,f=a("2877"),p=Object(f["a"])(v,u,l,!1,null,null,null),b=p.exports,g={name:"App",components:{Navbar:b}},h=g,_=(a("034f"),Object(f["a"])(h,d,c,!1,null,null,null)),$=_.exports,C=a("8c4f"),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid mt-2"},[0==e.remedios.length?a("div",{staticClass:"card m-2"},[a("div",{staticClass:"card-body text-center"},[e._v(" "+e._s(e.mensagem)+" ")])]):e._e(),e.remedios.length>0?a("div",{staticClass:"list-group"},e._l(e.remedios,(function(t){return a("a",{key:t._id,staticClass:"list-group-item list-group-item-action flex-column align-items-start",attrs:{href:"#"}},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1"},[e._v(e._s(t.remedio))]),a("small",{staticClass:"text-muted"},[e._v(e._s(e.formatarValidade(t.validade)))])]),a("p",{staticClass:"mb-1"},[e._v(e._s(t.funcao))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return e.editarRemedio(t._id)}}},[e._v(" Editar ")])]),a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-danger pull-right",attrs:{type:"button"},on:{click:function(a){return e.deletarRemedio(t)}}},[e._v(" Excluir ")])])])])})),0):e._e()])},w=[],R=(a("99af"),a("96cf"),a("1da1")),O=a("d4ec"),j=a("ade3"),y=a("bc3a"),k=a.n(y),D="https://jsonbox.io",N="".concat(D,"/box_b881cca42a1b7bfa2c71"),P=k.a.create({baseURL:N}),q=function e(){Object(O["a"])(this,e),Object(j["a"])(this,"getRemedios",(function(){return P.get()})),Object(j["a"])(this,"getRemedio",(function(e){return P.get("/".concat(e))})),Object(j["a"])(this,"salvarRemedio",(function(e){return P.post("/",e)})),Object(j["a"])(this,"atualizarRemedio",(function(e,t){return P.put("/".concat(e),t)})),Object(j["a"])(this,"deletarRemedio",(function(e){return P.delete("/".concat(e))}))},E=new q,S={data:function(){return{mensagem:"",remedios:[],remedio:null}},created:function(){this.getRemedios()},methods:{getRemedios:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.remedios=[],e.mensagem="Buscando...",t.next=5,E.getRemedios();case 5:a=t.sent,e.remedios=a.data.sort((function(e,t){return e.validade<t.validade?-1:e.validade>t.validade?1:0})),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),alert("Ocorreu um erro ao consultar a API"),e.mensagem="Nenhum cliente encontrado.";case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},deletarRemedio:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!window.confirm("Desejar deletar o remédio ".concat(e.remedio,"?"))){a.next=5;break}return a.next=3,E.deletarRemedio(e._id);case 3:r=a.sent,200===r.status&&(t.getRemedios(),alert("Cliente removido com sucesso!"));case 5:case"end":return a.stop()}}),a)})))()},editarRemedio:function(e){this.$router.push("/meus-remedios/editar/".concat(e))},formatarValidade:function(e){var t=e.substr(0,4),a=e.substr(5,2);return"".concat(a,"/").concat(t)}}},z=S,L=(a("33cb"),Object(f["a"])(z,x,w,!1,null,"5b5dcf8e",null)),F=L.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Formulario",{attrs:{titulo:"Cadastrar remédio",remedio:e.remedio,mensagem:e.mensagem,formDisabled:e.formDisabled},on:{remedio:function(t){return e.addRemedio(t)}}})},U=[],A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"box"},[a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[e._v(" "+e._s(e.titulo)+" ")])]),a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("fieldset",{attrs:{disabled:e.formDisabled}},[a("div",{staticClass:"box-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-12"},[a("label",{attrs:{for:"input-remedio"}},[e._v("Remédio")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.remedio.remedio,expression:"remedio.remedio"},{name:"model",rawName:"v-model.trim",value:e.$v.remedio.remedio.$model,expression:"$v.remedio.remedio.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"input-remedio",id:"input-remedio",required:""},domProps:{value:e.remedio.remedio,value:e.$v.remedio.remedio.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.remedio.remedio,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.remedio,"remedio",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.remedio.remedio.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Nome do remédio é obrigatório!")])])]),a("div",{staticClass:"form-group col-12"},[a("label",{attrs:{for:"input-validade"}},[e._v("Data de validade")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.remedio.validade,expression:"remedio.validade"},{name:"model",rawName:"v-model.trim",value:e.$v.remedio.validade.$model,expression:"$v.remedio.validade.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"date",name:"input-validade",id:"input-validade",required:""},domProps:{value:e.remedio.validade,value:e.$v.remedio.validade.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.remedio.validade,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.remedio,"validade",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.remedio.validade.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Data de validade é obrigatória!")])])]),a("div",{staticClass:"form-group col-12"},[a("label",{attrs:{for:"input-funcao"}},[e._v("Pra que serve?")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.remedio.funcao,expression:"remedio.funcao"},{name:"model",rawName:"v-model.trim",value:e.$v.remedio.funcao.$model,expression:"$v.remedio.funcao.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",name:"input-funcao",id:"input-funcao",required:""},domProps:{value:e.remedio.funcao,value:e.$v.remedio.funcao.$model},on:{input:[function(t){t.target.composing||e.$set(e.$v.remedio.funcao,"$model",t.target.value.trim())},function(t){t.target.composing||e.$set(e.remedio,"funcao",t.target.value)}],blur:function(t){return e.$forceUpdate()}}}),e.$v.remedio.funcao.required?e._e():a("div",[a("strong",{staticStyle:{color:"red"}},[e._v("Função é obrigatória!")])])])])]),a("div",{staticClass:"box-footer"},[a("button",{staticClass:"btn btn-success m-1",attrs:{type:"submit"}},[e._v("Salvar")]),a("router-link",{staticClass:"btn btn-danger m1",attrs:{to:"/meus-remedios"}},[e._v(" Voltar ")]),e.mensagem?a("span",{staticClass:"ml-2"},[e._v(e._s(e.mensagem))]):e._e()],1)])])])])])])},T=[],V=(a("caad6"),a("ac1f"),a("2532"),a("1276"),a("3835")),B=a("b5ae"),I={props:["titulo","remedio","mensagem","formDisabled"],data:function(){return{}},validations:{remedio:{remedio:{required:B["required"],minLength:Object(B["minLength"])(3)},validade:{required:B["required"]},funcao:{required:B["required"],minLength:Object(B["minLength"])(5)}}},methods:{submit:function(){var e=!1;if(e=!this.$v.remedio.remedio.$invalid&&!this.$v.remedio.validade.$invalid&&!this.$v.remedio.funcao.$invalid,e){if(this.remedio.validade.includes("/")){var t=this.remedio.validade.split("/"),a=Object(V["a"])(t,3),r=a[0],i=a[1],o=a[2];this.remedio.validade="".concat(o,"-").concat(i,"-").concat(r)}this.$emit("remedio",this.remedio)}else alert("Corrija os campos inválidos!")}}},J=I,H=Object(f["a"])(J,A,T,!1,null,null,null),G=H.exports,K={components:{Formulario:G},data:function(){return{remedio:{remedio:"",validade:"",funcao:""},mensagem:"",formDisabled:!1}},methods:{addRemedio:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.formDisabled=!0,t.mensagem="Salvando as informações...",a.next=4,E.salvarRemedio(e);case 4:r=a.sent,t.formDisabled=!1,t.mensagem="",200===r.status?(alert("Remédio salvo com sucesso!"),t.$router.push("/meus-remedios/")):alert("Ocorreu um erro! Os dados não foram salvos");case 8:case"end":return a.stop()}}),a)})))()}}},Q=K,W=Object(f["a"])(Q,M,U,!1,null,null,null),X=W.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.remedio?e._e():a("div",{staticClass:"card m-2"},[a("div",{staticClass:"card-body text-center"},[e._v(" Buscando informações... ")])]),e.remedio?a("Formulario",{attrs:{titulo:"Editar remédio",remedio:e.remedio,mensagem:e.mensagem,formDisabled:e.formDisabled},on:{remedio:function(t){return e.atualizarRemedio(t)}}}):e._e()],1)},Z=[],ee=a("5530"),te={components:{Formulario:G},data:function(){return{remedio:null,mensagem:"",formDisabled:!1}},created:function(){this.getRemedio()},methods:{getRemedio:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(ee["a"])({},e.$route.params),r=a.id,t.next=3,E.getRemedio(r);case 3:i=t.sent,200===i.status&&(e.remedio=i.data);case 5:case"end":return t.stop()}}),t)})))()},atualizarRemedio:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function a(){var r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.formDisabled=!0,t.mensagem="Atualizando as informações...",r=Object(ee["a"])({},t.$route.params),i=r.id,a.next=5,E.atualizarRemedio(i,e);case 5:o=a.sent,t.formDisabled=!1,t.mensagem="",200===o.status?alert("Remédio atualizado com sucesso!"):alert("Ocorreu um erro! Os dados não foram atualizados!");case 9:case"end":return a.stop()}}),a)})))()}}},ae=te,re=Object(f["a"])(ae,Y,Z,!1,null,null,null),ie=re.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"error-template"},[a("h1",[e._v("Oops!")]),a("h2",[e._v("Página não encontrada!")]),a("div",{staticClass:"error-details"},[e._v(" Desculpe, ocorreu um erro: esta página não foi encontrada! ")]),a("div",{staticClass:"error-actions"},[a("router-link",{staticClass:"btn btn-success btn-lg",attrs:{to:"/meus-remedios"}},[a("span",{staticClass:"fa fa-home"}),e._v(" Ir para a página inicial ")])],1)])])])])},ne=[],se=(a("94d4"),{}),de=Object(f["a"])(se,oe,ne,!1,null,"77ad510c",null),ce=de.exports;r["a"].use(C["a"]);var ue=new C["a"]({mode:"history",routes:[{path:"/meus-remedios/",name:"RemediosLista",component:F},{path:"/meus-remedios/cadastro",name:"RemediosCadastro",component:X},{path:"/meus-remedios/editar/:id",name:"RemediosEditar",component:ie},{path:"*",name:"Not found",component:ce}]}),le=a("ce96");r["a"].use(s.a),r["a"].use(o.a),r["a"].config.productionTip=!1,r["a"].prototype.Helpers=le,new r["a"]({router:ue,render:function(e){return e($)}}).$mount("#app")},"6fd0":function(e,t,a){},"85ec":function(e,t,a){},"94d4":function(e,t,a){"use strict";var r=a("1ea2"),i=a.n(r);i.a},ce96:function(e,t){}});
//# sourceMappingURL=index.7c1be793.js.map